<v-app class="register">
  <custom-app-bar></custom-app-bar>
  <v-main>
    <v-container class="fill-height" fluid>
      <v-row align="center" justify="center">
        <v-col cols="12">
          <v-alert
            v-if="errorMessage"
            type="error"
            title="Error!"
            :text="errorMessage"
            variant="tonal"
            class="justify-center"
            elevation="2"
          ></v-alert>
        </v-col>
        <v-col cols="12" xl="4" lg="5" md="6" sm="9" xs="12">
          <v-card
            outlined
            class="pa-xl-12 pa-lg-10 pa-md-8 pa-sm-6 pa-xs-4 justify-center rounded-lg dark"
            :flat="xs"
          >
            <v-row class="mt-3 mb-2">
              <v-img
                class="mt-8"
                contain
                height="220"
                width="220"
                src="@/assets/logo.svg"
              ></v-img>
            </v-row>
            <v-card-text class="px-xl-8 px-lg-8 px-md-8 px-sm-6 px-xs-4">
              <v-form @submit.prevent="handleRegister" v-model="isValid">
                <v-text-field
                  v-model="name"
                  label="Display name"
                  :rules="rules.name"
                  class="mb-3"
                />
                <v-text-field
                  v-model="email"
                  label="E-Mail"
                  type="email"
                  :rules="rules.email"
                />
                <v-text-field
                  class="mt-3"
                  v-model="password"
                  label="Password"
                  :type="showPassword ? 'text' : 'password'"
                  :append-inner-icon="showPassword ? 'mdi-eye' : 'mdi-eye-off'"
                  @click:append-inner="showPassword = !showPassword"
                  :rules="rules.password"
                />
              </v-form>
            </v-card-text>
            <v-card-actions>
              <v-btn
                :loading="loading"
                block
                color="primary"
                :disabled="!isValid"
                @click.prevent="handleRegister"
                >Register</v-btn
              >
            </v-card-actions>
            <v-card-text justify="center">
              <v-row justify="end">
                <v-col>
                  Already have an account?
                  <p>
                    <router-link to="/login">Login here!</router-link>
                  </p>
                </v-col>
              </v-row>
            </v-card-text>
          </v-card>
        </v-col>
      </v-row>
    </v-container>
  </v-main>
  <custom-footer></custom-footer>
</v-app>
