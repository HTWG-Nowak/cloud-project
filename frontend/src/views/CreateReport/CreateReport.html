<v-container fluid class="create">
  <h1 class="mb-3">Create Report</h1>

  <!-- Not connected to strava alert -->
  <v-alert type="info" v-if="notConnected">
    No Strava Account connected! Please go to your
    <router-link to="/profile">Profile</router-link>
    and connect a Strava account!
  </v-alert>

  <v-form v-if="!notConnected && !showAlert" class="pb-7 text-center">
    <!-- start date -->
    <v-text-field
      label="Start Date"
      type="date"
      v-model="startDate"
      variant="solo"
    />

    <!-- end date  -->
    <v-text-field
      label="End Date"
      type="date"
      v-model="endDate"
      variant="solo"
    />
    <v-btn color="primary" @click.prevent="getActivities">Query</v-btn>
  </v-form>

  <!-- alert -->
  <v-container v-if="loading || showAlert">
    <v-row
      v-if="showAlert"
      class="fill-heigh"
      align-content="center"
      justify="center"
    >
      <v-col class="text-subtitle-1 text-center" cols="12">
        <v-alert :type="alertType">{{ alertMessage }}</v-alert>
      </v-col>
      <v-col cols="12" v-if="loading">
        <v-progress-linear
          color="primary"
          rounded
          height="6"
          indeterminate
        ></v-progress-linear>
      </v-col>
    </v-row>
  </v-container>

  <v-alert v-if="loading === false && (length === 0)" class="mt-5" type="info">
    No activities found in the given time frame
  </v-alert>

  <report v-if="data !== null" :data="data" :create="true" />

  <v-btn v-if="data !== null" color="primary" @click.prevent="saveReport"
    >Save</v-btn
  >
</v-container>
